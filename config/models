Subscriber json
    email Text
    created UTCTime Maybe default=now()
    UniqueSubscriber email
  deriving Typeable Show

Feedback json
    content Text
    email Text Maybe
    created UTCTime Maybe default=now()
  deriving Show

ScreenCaptureDetection json
    affectedDeviceKeyFingerprint ByteString
    recordingUID Text
    UniqueScreenCaptureDetection affectedDeviceKeyFingerprint recordingUID
  deriving Show

Device
    -- | This is used as a means of authenticating the update of a device APN token.
    token Text
    -- | The BLAKE2 fingerprint of the device public key.
    keyFingerprint ByteString
    -- | Used to identify the device with Apple Push Notification Services.
    apnToken ByteString Maybe
    updated UTCTime Maybe
    UniqueDeviceToken token
    UniqueDeviceTokenFingerprint token keyFingerprint
  deriving Typeable Show

-- | An entry that allows access to a key once. PlaybackGrants should be
-- removed as soon as a device accesses the grant, or when the grant expires.
PlaybackGrant
    -- | The id of the recording
    recordingUID Text
    -- | The BLAKE2 fingerprint of the recipient public key.
    recipientKeyFingerprint ByteString
    -- | Key encrypted with the recipients public key.
    keyCipher ByteString
    -- | The offset in which the key should be placed, this is no longer used by client encryption versions > 1.
    keyOffset Int Maybe
    -- | When the key expires. Expiry date should be calculated by the Key Server.
    expires UTCTime
    -- | When the playback grant was created.
    created UTCTime
  deriving Show
